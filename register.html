<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:wght@400;700&display=swap" rel="stylesheet">
    <title>Register - Vakho Iosava</title>
</head>
<body>
    <div class="mode">
        <label class="tohome">
            <a href="portfolio.html"><img class="backicon" src="img/back.png" alt="back_icon"></a>
        </label>
        <label id="night1" class="daybtn" onclick="daymode()">
            <img style="width: 50px; border-radius: 12px; background-color: white;" src="img/day.png" alt="daymode_icon"></label>
        <label id="night1" class="nightbtn" onclick="nightmode()">
            <img style="width: 50px; border-radius: 12px;" src="img/night1.png" alt="nightmode_icon"></label>
    </div>
    <section class="sign">
        <h1> Create an Accaunt</h1>
        <p> Sign up with your social media</p>
        <label><a href="https://www.facebook.com/" target="_blank">
            <img src="img/fboriginal.png" alt="fb_logo"> Sign Up with Facebook</a>
        </label>
        <label><a href="https://twitter.com/" target="_blank">
            <img src="img/twitter.png" alt="twitter_logo">Sign Up with Twitter</a>
        </label>
        <label><a href="https://myaccount.google.com/" target="_blank">
            <img src="img/google.png" alt="google+_logo">Sign Up with Google+</a>
        </label>
        <label><a href="https://github.com/" target="_blank">
            <img class="git" src="img/github.png" alt="github_logo">Sign Up with Github</a>
        </label>
        <label><a href="https://www.linkedin.com/" target="_blank">
            <img src="img/linkedin.png" alt="linkedin_logo">Sign Up with Linkedin</a>
        </label>
    </section>
    <div class="line"></div>
    <section class="first">
        <form id="registration" action="example.php" method="POST">
            <p class="emails">Or with your Email</p>
            <div>
                <input class="txt" type="text" name="username" placeholder="Username">
                <div class="error_div" id="error_username"></div>
            </div>
            <div>
                <input class="txt" type="email" name="email" placeholder="Email">
                <div class="error_div" id="error_email"></div>
            </div>
            <div>
                <input class="txt" type="password" name="password" placeholder="Password">
                <div class="error_div" id="error_password"></div>
            </div>
            <div>
                <input class="txt" type="password" name="password2" placeholder="Repeat Password">
                <div class="error_div" id="error_password2"></div>
            </div>
            <div class="radios">
                <label>
                <input class="rad" type="radio" name="gender">
                <img class="img1" src="img/male.png" alt="male_icon">
                <label>Male</label>
                </label>
                <label>
                <input class="rad" type="radio" name="gender">
                <img class="img1" src="img/female.png" alt="female_icon">
                <label>Female</label>
                </label>
                <div class="error_div" id="error_gender"></div>
            </div>
            <div class="radios">
                <label>
                <input type="checkbox" name="agree">
                <img class="img1" src="img/check1.png" alt="check_icon">
                <label class="agreed"> I agree to the Google <a href="https://policies.google.com/terms?hl=en-US">
                    Terms of Service</a> and <a href="https://policies.google.com/terms?hl=en-US">Privacy Policy</a> </label>
                <div class="error_div" id="error_agree"></div>
                </label>
            </div>
                <button type="submit">Submit</button>
        </form>
    </section>
    <script>
        document.getElementById('registration').addEventListener('submit', function(e){
            e.preventDefault();

            let errors = {};
            let form = e.target;

            let username = form.querySelector('[name="username"]').value;
            if (username.length <3 ){
                errors.username = "Min 3 letters"
            }

            let password = form.querySelector('[name="password"]').value;
            let password2 = form.querySelector('[name="password2"]').value;

            if (password.length < 5){
                errors.password = "Invalid password"
            }
            if (password != password2){
                errors.password = "Password do not match"
            }

            let agree = form.querySelector('[name="agree"]').checked;
            if (!agree){
                errors.agree = "You must agree terms and conditions"
            }

            let gender = false;
            form.querySelectorAll('[name="gender"]').forEach(item => {
                if (item.checked){
                    gender = true;
                }     
            });
            if (gender=== false){
                errors.gender = "Please select gender"
            }
            let email = form.querySelector('[name="email"]').value;
                if (!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)) {
                    errors.email = "Invalid email";
            }


            form.querySelectorAll('.error_div').forEach(item =>{
                item.textContent = ' ';
            })
            for (let name in errors){
                let errorplace = document.getElementById('error_' + name);
                if (errorplace){
                    errorplace.textContent = errors[name];
                }
            }

            if (Object.keys(errors).length === 0){
                form.submit();
            }


            console.log(errors);
        });
    </script>
    <script>
        function nightmode(){
            let element = document.body;
            let el = document.getElementById("night1")
            element.classList.add("dark")
        }
        function daymode(){
            let element = document.body;
            let el = document.getElementById("night1")
            element.classList.remove("dark")
        }
    </script>
</body>
</html>